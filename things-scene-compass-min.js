(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _scene=scene;var Component=_scene.Component;var Ellipse=_scene.Ellipse;var Compass=function(_Ellipse){_inherits(Compass,_Ellipse);function Compass(){_classCallCheck(this,Compass);return _possibleConstructorReturn(this,Object.getPrototypeOf(Compass).apply(this,arguments))}_createClass(Compass,[{key:"_draw",value:function _draw(context){var _model=this.model;var _model$value=_model.value;var value=_model$value===undefined?0:_model$value;var fillStyle=_model.fillStyle;var cx=_model.cx;var cy=_model.cy;var rx=_model.rx;var ry=_model.ry;context.translate(cx,cy);context.beginPath();context.ellipse(0,0,Math.abs(rx),Math.abs(ry),0,0,2*Math.PI);context.ellipse(0,0,Math.abs(rx*.75),Math.abs(ry*.75),0,2*Math.PI,0,true);this.drawStroke(context);this.drawFill(context);context.closePath();context.beginPath();context.moveTo(rx*.65,0);context.lineTo(0,ry*.09);context.lineTo(-rx*.65,0);context.lineTo(0,-ry*.09);context.moveTo(0,ry*.65);context.lineTo(rx*.09,0);context.lineTo(0,-ry*.65);context.lineTo(-rx*.09,0);context.fillStyle=fillStyle;context.fill();context.closePath();context.beginPath();context.fillStyle="black";context.font=(rx+ry)/13+"px arial";context.textBaseline="middle";context.textAlign="center";context.fillText("N",0,-ry+ry*.125);context.fillText("S",0,ry-ry*.125);context.fillText("W",-rx+rx*.125,0);context.fillText("E",rx-rx*.125,0);context.beginPath();var ang=(value+(this._anim_alpha||0))/50*Math.PI;context.rotate(ang);context.moveTo(0,-ry*.65);context.lineTo(rx*.13,0);context.lineTo(-rx*.13,0);context.fillStyle="#F53B3B";context.fill();context.beginPath();context.moveTo(0,ry*.65);context.lineTo(rx*.13,0);context.lineTo(-rx*.13,0);context.fillStyle="#3DC0E8";context.fill();context.rotate(-ang);context.beginPath();context.ellipse(0,0,Math.abs(rx*.15),Math.abs(ry*.15),0,0,2*Math.PI);context.lineWidth=(rx+ry)*.013;context.strokeStyle="#FFFFFF";context.fillStyle="#3DC0E8";context.fill();context.stroke();context.beginPath();context.ellipse(0,0,Math.abs(rx*.06),Math.abs(ry*.06),0,0,2*Math.PI);context.fillStyle="#FFFFFF";context.fill();context.closePath();context.translate(-cx,-cy)}},{key:"onchange",value:function onchange(after,before){if(!after.hasOwnProperty("value"))return;var self=this;var diff=after.value-before.value;this._anim_alpha=-diff;this.animate({step:function step(delta){self._anim_alpha=diff*(delta-1);self.invalidate()},duration:1e3,delta:"elastic",options:{x:2},ease:"out"}).start()}}]);return Compass}(Ellipse);exports.default=Compass;Component.register("compass",Compass)},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _compass=require("./compass");Object.defineProperty(exports,"Compass",{enumerable:true,get:function get(){return _interopRequireDefault(_compass).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},{"./compass":1}]},{},[2]);